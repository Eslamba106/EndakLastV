# نظام إدارة الدول والمحافظات

## نظرة عامة
تم إضافة نظام متكامل لإدارة الدول والمحافظات في لوحة التحكم. يتيح النظام إضافة وتعديل وحذف الدول والمحافظات بسهولة.

## الميزات الجديدة

### 1. إدارة الدول
- **عرض جميع الدول**: عرض قائمة بجميع الدول مع عدد المحافظات لكل دولة
- **إضافة دولة جديدة**: إضافة دولة جديدة مع الاسم بالعربية والإنجليزية
- **تعديل الدولة**: تعديل بيانات الدولة الموجودة
- **حذف الدولة**: حذف الدولة مع جميع محافظاتها

### 2. إدارة المحافظات
- **عرض جميع المحافظات**: عرض قائمة بجميع المحافظات مع الدولة التابعة لها
- **إضافة محافظة جديدة**: إضافة محافظة جديدة مع اختيار الدولة
- **تعديل المحافظة**: تعديل بيانات المحافظة
- **حذف المحافظة**: حذف المحافظة

### 3. لوحة التحكم
- **إحصائيات سريعة**: عرض عدد الدول والمحافظات
- **روابط سريعة**: روابط مباشرة لجميع العمليات

## الروابط الجديدة

### في الشريط الجانبي
تم إضافة قسم جديد في الشريط الجانبي تحت عنوان "إدارة الدول والمحافظات" يحتوي على:

1. **لوحة التحكم** (`/countries/dashboard`)
   - عرض إحصائيات سريعة
   - روابط سريعة لجميع العمليات

2. **إدارة الدول** (`/countries`)
   - عرض قائمة جميع الدول
   - إمكانية التعديل والحذف

3. **إضافة دولة** (`/add/country`)
   - نموذج إضافة دولة جديدة

4. **إدارة المحافظات** (`/governorates`)
   - عرض قائمة جميع المحافظات
   - إمكانية التعديل والحذف

5. **إضافة محافظة** (`/add/gover`)
   - نموذج إضافة محافظة جديدة

## الروابط (Routes)

### الدول
```php
GET    /countries/dashboard    - لوحة التحكم
GET    /countries             - عرض جميع الدول
GET    /add/country          - صفحة إضافة دولة
POST   /country              - حفظ دولة جديدة
GET    /countries/{id}/edit  - صفحة تعديل دولة
PUT    /countries/{id}       - تحديث دولة
DELETE /countries/{id}       - حذف دولة
```

### المحافظات
```php
GET    /governorates         - عرض جميع المحافظات
GET    /add/gover           - صفحة إضافة محافظة
POST   /gover               - حفظ محافظة جديدة
GET    /governorates/{id}/edit - صفحة تعديل محافظة
PUT    /governorates/{id}   - تحديث محافظة
DELETE /governorates/{id}   - حذف محافظة
```

## الملفات المضافة/المعدلة

### Controllers
- `app/Http/Controllers/CountryController.php` - تم إضافة دوال index, edit, update, destroy
- `app/Http/Controllers/GovernementsController.php` - تم إضافة دوال index, edit, update, destroy

### Models
- `app/Models/Governements.php` - تم إصلاح العلاقة مع Country

### Views
- `resources/views/admin/country/dashboard.blade.php` - لوحة التحكم الرئيسية
- `resources/views/admin/country/index.blade.php` - عرض الدول
- `resources/views/admin/country/edit.blade.php` - تعديل الدولة
- `resources/views/admin/country/governorates_index.blade.php` - عرض المحافظات
- `resources/views/admin/country/edit_governorate.blade.php` - تعديل المحافظة
- `resources/views/admin/country/add_country.blade.php` - تم تحسين التصميم
- `resources/views/admin/country/add_govers.blade.php` - تم تحسين التصميم

### Routes
- `routes/web.php` - تم إضافة جميع الروابط الجديدة

### Sidebar
- `resources/views/layouts/dashboard/sidebar.blade.php` - تم إضافة القسم الجديد

## كيفية الاستخدام

1. **الوصول للنظام**: من الشريط الجانبي، اختر "إدارة الدول والمحافظات"

2. **إضافة دولة جديدة**:
   - اختر "إضافة دولة" من القائمة
   - أدخل اسم الدولة بالعربية والإنجليزية
   - اضغط "حفظ"

3. **إضافة محافظة جديدة**:
   - اختر "إضافة محافظة" من القائمة
   - اختر الدولة من القائمة المنسدلة
   - أدخل اسم المحافظة بالعربية والإنجليزية
   - اضغط "حفظ"

4. **تعديل أو حذف**:
   - من صفحة "إدارة الدول" أو "إدارة المحافظات"
   - استخدم أزرار "تعديل" أو "حذف" بجانب كل عنصر

## ملاحظات مهمة

- عند حذف دولة، سيتم حذف جميع المحافظات التابعة لها تلقائياً
- جميع النماذج تدعم التحقق من صحة البيانات
- النظام يدعم اللغتين العربية والإنجليزية
- تم إضافة رسائل تأكيد قبل الحذف 
